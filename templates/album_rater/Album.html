{% extends 'album_rater/base.html' %}
{% load static %}

{% block title_block %}
    <title>Album</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/album.css' %}">
{% endblock %}

{% block main_block %}
<!-- Main Container -->
<div class="container">
    <div class="row">
        <!-- Album Cover (Left) -->
        {% if album.art %}
        <div class="col-md-4 mb-4">
            <div class="album-cover">
                <img src="{{ album.art.url }}" class="card-img-top img-fluid" alt="{{ album.title }} Cover">
            </div>
        </div>
        {% endif %}
        <!-- Album Details (Right) -->
        <div class="col-md-8 album-details">
            <div class="d-flex justify-content-between align-items-start">
                <h3>{{ album.title }}</h3>
                <br/>
                <h4><a href = "{% url 'album-rater:user_profile' album.uploader.slug %}" class="album-uploader">{{ album.uploader.user.username }}</a></h4>
                <div class="views-count">
                    Views: {{ album.views }}
                </div>
            </div>
            <div class="album-info mt-3">
                <p><strong>Score:</strong> {{ score }}/5.0</p>
                <p><strong>Genre:</strong> {{ genre }}</p>
                <p><strong>Release Date:</strong> {{ date }}</p>
            </div>
        </div>
    </div>

    <!-- Reviews Section -->
    <div class="section-title">
        <h4>Comments</h4>
        {% if user.is_authenticated %}
        <button class="btn btn-primary">Add Comment</button>
        {% endif %}
    </div>

    <!-- Review Cards -->
    {% for comment in comments %}
    <div class="review-card d-flex">
        
        {% include "album_rater/comment.html" with comment=comment %}
    </div>
    {% endfor %}
</div>
{% endblock %}